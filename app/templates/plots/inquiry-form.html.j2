{% extends 'dashboard.html.j2' %}

{% block content %}
<div class="uk-child-width-1-2@s" uk-grid>
    <div>
        <h3 class="uk-text-uppercase">{{ title }}</h3>
        {% for message in get_flashed_messages() %}
        <div class="uk-alert-primary" uk-alert>
            <a class="uk-alert-close" uk-close></a>
            <p>{{ message }}</p>
        </div>
        {% endfor %}
        <hr>
        <form method='post'>
            {{ form.hidden_tag() }}

            <div class="uk-margin">
                {{ form.client.label(class='uk-label') }}
                {% if form.client.errors %}
                {{ form.client(class='uk-select uk-form-danger') }}
                {% for error in form.client.errors %}
                <small class="uk-form-help-block uk-text-danger">{{ error }}</small>
                {% endfor %}
                {% else %}
                {{ form.client(class='uk-select', placeholder='Type') }}
                {% endif %}
            </div>

            <div class="uk-margin">
                {{ form.source.label(class='uk-label') }}
                {% if form.source.errors %}
                {{ form.source(class='uk-select uk-form-danger') }}
                {% for error in form.source.errors %}
                <small class="uk-form-help-block uk-text-danger">{{ error }}</small>
                {% endfor %}
                {% else %}
                {{ form.source(class='uk-select', placeholder='Source') }}
                {% endif %}
            </div>

            <div class="uk-margin">
                {{ form.proposal.label(class='uk-label') }}
                {% if form.proposal.errors %}
                {{ form.proposal(class='uk-input uk-form-danger') }}
                {% for error in form.proposal.errors %}
                <small class="uk-form-help-block uk-text-danger">{{ error }}</small>
                {% endfor %}
                {% else %}
                {{ form.proposal(class='uk-input', placeholder='Proposal') }}
                {% endif %}
            </div>

            <div class="uk-margin">
                {{ form.probability.label(class='uk-label') }}
                {% if form.probability.errors %}
                {{ form.probability(class='uk-select uk-form-danger') }}
                {% for error in form.probability.errors %}
                <small class="uk-form-help-block uk-text-danger">{{ error }}</small>
                {% endfor %}
                {% else %}
                {{ form.probability(class='uk-select', placeholder='Type') }}
                {% endif %}
            </div>

            <div class="uk-margin">
                {{ form.assignee.label(class='uk-label') }}
                {% if form.assignee.errors %}
                {{ form.assignee(class='uk-select uk-form-danger') }}
                {% for error in form.assignee.errors %}
                <small class="uk-form-help-block uk-text-danger">{{ error }}</small>
                {% endfor %}
                {% else %}
                {{ form.assignee(class='uk-select', placeholder='Assignee') }}
                {% endif %}
            </div>

            <div class="uk-margin">
                {{ form.submit(class='uk-button uk-button-primary') }}
            </div>
        </form>
    </div>
</div>
{% endblock %}
